## 使用文档

采用 socket 通信交换数据

- 配置文件: config.ini

  - `baidu`: 百度地图 AK & SK
  - `local`: 起点经纬度
  - `socket`: 通信 host & port

- 启动服务

  - 运行可执行文件 path
  - 建议直接后台运行，每次直接调用接口
    > sudo chmod 777 path # 修改权限  
    > nohup path & # 后台运行

- 调用接口

  - 请求方法: POST
  - 请求路径: host:port
  - 请求参数:

    - 示例:
      ```json
      {
        "local": {
          "lat": "22.634100",
          "lng": "114.236000"
        },
        "positions": [
          {
            "lat": "22.810980",
            "lng": "114.428177"
          },
          {
            "lat": "22.782993",
            "lng": "114.416138"
          },
          {
            "lat": "22.784489",
            "lng": "114.388868"
          },
          {
            "lat": "22.803852",
            "lng": "114.424370"
          },
          {
            "lat": "22.838402",
            "lng": "114.365486"
          },
          {
            "lat": "22.773642",
            "lng": "114.381302"
          },
          {
            "lat": "22.841279",
            "lng": "114.368037"
          },
          {
            "lat": "22.785465",
            "lng": "114.401123"
          },
          {
            "lat": "22.774734",
            "lng": "114.377178"
          },
          {
            "lat": "22.761740",
            "lng": "114.393707"
          },
          {
            "lat": "22.843915",
            "lng": "114.370073"
          },
          {
            "lat": "22.774948",
            "lng": "114.422798"
          }
        ],
        "tactics": 0,
        "waiting": 250
      }
      ```
    - 参数说明
      | 参数 | 说明 | 类型 | 备注 | 是否必填 |
      | --------- | -------------- | ---- | -------------------- | -------- |
      | local | 起点经纬度 |Object | 默认配置文件中 local<br>返回结果中定义为 0 | 否 |
      | positions | 各配送点经纬度 |Array | 返回结果按传入顺序从 1 开始定义 | 是 |
      | tactics | 百度地图策略 |Array | 0: 默认<br>3: 不走高速<br>4: 高速优先<br>5: 躲避拥堵<br>6: 少收费<br>7: 躲避拥堵&高速优先<br>8:躲避拥堵&不走高速<br>9: 躲避拥堵&少收费<br>10: 躲避拥堵&不走高速&少收费<br>11: 不走高速&少收费 | 否 |
      | waiting | 时间系数 |Number | 默认 250| 否 |

  - 返回结果:

    - 成功

      ```json
      {
        "code": "200",
        "msg": "成功",
        "data": [0, 12, 2, 10, 6, 9, 3, 8, 4, 1, 11, 7, 5]
      }
      ```

    - 参数说明
      | 参数 | 说明 | 类型 | 备注 | 是否必填 |
      | --------- | -------------- | ---- | -------------------- | -------- |
      | code | 状态码 | Number | 成功: 200<br>local 错误: 201<br>positions 错误: 202<br>参数解析错误: 203<br>错误错误: 204 | 是 |
      | msg | 接口信息 | Sting | 成功或失败信息 | 是 |
      | data | 顺序数组 | Array | 按传入顺序定义点，0 为起点 | 否 |
